(function(){function Qa(){s={x:0.15*l,y:0.8*q,move:null,button:null}}function aa(){ha(e,{x:IPX+N,y:IPY+N,z:IPZ+N,a:0,wa:0,g:0,e:20,f:20,d:20,k:F,j:F,r:20,h:qb,color:ya,face:"\uff61\u25d5  \u25d5\uff61",ca:"\u203f",da:-5,ea:5,update:rb,n:-0.2});za||(za=ba(F,F,e,!0),Ra=ba(F,F,e,!1));e.X=za;e.ga=Ra;G(e);T=e.b-0.5*l;ja=e.c-0.7*q}function Sa(a){h.save();-1E7<a.i&&(h.setTransform(1,0,0,0.3,a.b+a.r-4-O,a.c-a.i+a.z+2*a.r-1-OffsetY),h.beginPath(),h.arc(0,0,a.r,0,w),h.fillStyle=sb,h.fill());h.setTransform(1,
0,0,1,a.b-O,a.c-OffsetY);h.drawImage(0>a.a?a.X:a.ga,0,0);h.restore()}function ba(a,b,c,d){return U(a,b,function(a){var b=c.r;a.translate(b,b);a.lineWidth=1;a.strokeStyle="#111";a.fillStyle=c.color;a.beginPath();a.arc(0,0,b,0,w);a.fill();a.scale(d?1:-1,1);a.fillStyle="#222";a.fillText(c.face,-15,1);a.fillText(c.ca,c.da,c.ea);a.stroke()})}function qb(){Sa(e)}function rb(a,b){var c=a.left,d=a.right,f=a.P,g=0.15*b;a.a=c?a.a-g:d?a.a+g:a.a*Math.pow(0.9,b);g=f?3.5:2.5;if(V(a.a)>g){var ca=Math.pow(0.95,b);
a.a=0>a.a?v(a.a*ca,-g):x(a.a*ca,g)}Ta(a,b);0<a.g&&(g=Aa(a.x,a.y,a.z,20,Ba))&&(Ua.play(),a.z=g.z-20,a.g*=-0.8);-2E3>a.z&&aa();g=Ca(a.x,a.y,a.z,20);a.i=-Infinity;if(g.d){if(a.floor=g,a.i=g.z+N,a.z<=a.i||!a.floor.s.S&&f&&5>a.z-a.i&&2>V(a.g)){if(a.floor.s.S&&0>a.g){aa();return}-2>a.g||f?tb.play():-1>a.g&&ub.play();a.z=a.i;a.g=f?x(V(a.g/2),6):x(V(a.g/2),V(a.a)/1.5)}}else a.floor=!1;if(g=Aa(a.x,a.y,a.z,20,0<a.a?na:oa))a.x=0<a.a?g.x-20:g.x+g.f+20,Ua.play(),a.a=10<a.z-a.i?-0.2*a.a:-0.8*a.a;G(a);a.b-=N;a.c-=
N/2;if(c||d)T=a.b-l*(0.5-a.a/20);a.m&&(a.n-=0.01);a.l&&(a.n+=0.01);a.n=a.m||a.l?v(x(a.n,-0.5),0.5):v(x(a.n,-0.1),0.1);ja=a.c-q*(0.5-a.n)}function Ta(a,b){a.g-=0.2*b;var c=a.a,d=a.g;a.floor&&a.floor.s.a&&4>V(a.i-a.floor.z-N)&&(c+=a.floor.s.a,d+=a.floor.s.g);a.x+=c*b;a.z+=d*b}function Va(a){e.P=1;s.button=a;n.clearRect(l/2,0,l/2,q);n.beginPath();n.arc(a[1],a[2],35,0,w);n.fill()}function Wa(a){s.move=a;var b=a[1];a=a[2];n.clearRect(0,0,l/2,q);n.beginPath();n.arc(s.x,s.y,20,0,w);n.moveTo(s.x,s.y);n.lineTo(b,
a);n.arc(b,a,35,0,w);n.stroke();n.fill();b<s.x-15?(e.left=1,e.right=0,e.m=0,e.l=0):b>s.x+15?(e.left=0,e.right=1,e.m=0,e.l=0):(e.left=0,e.right=0);e.left||e.right||(a<s.y-15?(e.m=1,e.l=0):a>s.y+15?(e.m=0,e.l=1):(e.m=0,e.l=0));event.preventDefault()}function Xa(a){da[a.keyCode]="keydown"==a.type;e.left=da[37];e.right=da[39];e.m=da[38];e.l=da[40];e.P=da[32];(32==a.keyCode||37<=a.keyCode&&40>=a.ta)&&a.preventDefault()}function vb(a){Sa(a)}function wb(a,b){a.floor||(a.floor=Ca(a.x+z,a.y+z,a.z+z,t),a.i=
a.floor.z+z,DEBUG&&-1E7>a.i&&alert("Enemy must be above floor"));Ta(a,b);var c=0;0>a.a&&a.x+t<=a.floor.x?c=1:0<a.a&&a.x>a.floor.x+a.floor.f&&(c=2);if(0!=c){var d=Ca(a.x,a.y,a.z,t);a.floor!=d&&10>V(d.z-a.floor.z)&&(a.floor=d,a.i=a.floor.z+z);d!=a.floor&&(a.x=1==c?a.floor.x-t+1:a.floor.x+a.floor.f-1,a.a*=-1)}a.z<=a.i&&(a.z=a.i,a.g=2);if(c=Aa(a.x,a.y,a.z,t,0<a.a?na:oa))a.x=0<a.a?c.x-t:c.x+c.f+t,a.a*=-1;G(a);a.b-=z;a.c-=z/2;a.b+a.k-10>=e.b&&a.b+10<e.b+e.k&&a.c+a.j-10>=e.c&&a.c+10<e.c+e.j&&(180<ea-pa&&
(I=0),P[I++].play(),I%=P.length,pa=ea,aa())}function Ya(a,b,c){a={x:a+z,y:IPY+z,z:b+z,e:Q,a:c?c/-10:-1,g:0,e:t,f:t,d:t,k:Q,j:Q,r:t,h:vb,update:wb,color:Da,face:"\u25d5` \u141f\u25d5 \u30ce",ca:"\u2054",da:-8,ea:9};G(a);Ea||(Ea=ba(Q,Q,a,!0),Za=ba(Q,Q,a,!1));a.X=Ea;a.ga=Za;C.push(a)}function xb(a){var b={F:a,t:function(a){u(a.F,function(b){b.t(b,b.b-a.b,b.c-a.c)})},h:$a,ia:function(a){u(a.F,function(a){G(a)});ab(a.F,a)}};ab(a,b);qa(b);return b}function ab(a,b){var c,d,f,g,ca,e,h,p,l,n;c=d=f=g=ca=Infinity;
e=h=p=l=n=-Infinity;u(a,function(a){g=v(g,a.b);l=x(l,a.b+a.k);ca=v(ca,a.c);n=x(n,a.c+a.j);c=v(c,a.x);e=x(e,a.x+a.f);d=v(d,a.y);h=x(h,a.y+a.d);f=v(f,a.z);p=x(p,a.z+a.e)});ha(b,{b:g,c:ca,k:l-g+1,j:n-ca+1,x:c,y:d,z:f,f:e-c+1,e:p-f+1,d:h-d+1})}function bb(a,b,c){h.setTransform(1,0,0,1,b|0,c|0);h.fillStyle=J(190,190,190);h.strokeStyle=J(40,40,40);h.lineWidth=1;for(b=a.d/2-5;0<=b;b-=10){c=a.j-b;h.beginPath();for(var d=0;d<=a.f;d+=20)h.moveTo(d+b,c),h.lineTo(d+b+5,c-a.e),h.lineTo(d+b+10,c);h.stroke();h.fill()}}
function Fa(a){a.T.h(0,0,a.p,a.q);cb(a)}function Ga(a){var b=a.p,c=a.q,d=a.N,f=a.L,g=a.J;h.fillStyle=a.M;h.fillRect(0,0,b,c);h.strokeStyle=d;d=0;h.lineWidth=g/5;y0=0;y1=g;for(h.beginPath();y1<=c;){d++;h.moveTo(0,y1);h.lineTo(b,y1);for(x0=d&1?f:f/2;x0<b;)h.moveTo(x0,y0),h.lineTo(x0,y1),x0+=f;y0=y1;y1+=g}h.stroke();cb(a)}function zb(a){var b=e;if(a.y+a.d<=b.y+3)return!1;if(b.y+b.d<=a.y+3||a.z+a.e<=b.z+3||a.x+a.f<=b.x+3)return!0;if(b.z+b.e<=a.z+3||b.x+b.f<=a.x+3)return!1;K("cubes intersection: ");return null}
function ra(a){a!=db&&(db=h.globalAlpha=a)}function cb(a){var b=a.K,c=a.p,d=a.q;b&15&&(h.strokeStyle=a.I,h.beginPath(),b&1&&(h.moveTo(0,0),h.lineTo(c,0)),b&2&&(h.moveTo(c,0),h.lineTo(c,d)),b&4&&(h.moveTo(c,d),h.lineTo(0,d)),b&8&&(h.moveTo(0,d),h.lineTo(0,0)),h.stroke())}function eb(a,b,c,d,f){var g=[],e=b+d,h=c+f;u(a,function(a){a.b+a.k>=b&&a.b<=e&&a.c+a.j-a.d/2>=c&&a.c-a.d/2<=h&&g.push(a)});return g}function $a(a){var b=L.indexOf(a.id);-1!=b?b<L.length-1&&(L.splice(b,1),L.push(a.id)):(50<=L.length&&
(b=L.shift(),K("Removing from cache cube "+b),delete Ha[b]),L.push(a.id),b=U(a.k,a.j,function(b){var d=h;h=b;a.t(a);h=d}),K("Adding to cache cube "+a.id+"  X:"+a.x+" Y:"+a.y+" Z:"+a.z+" W:"+a.f+" H:"+a.e+" D:"+a.d),Ha[a.id]=b);Ha[a.id].h(a.b,a.c-a.d/2,a.k,a.j)}function Ab(a,b,c){b|=0;c|=0;var d=a.d/2;a.O&&(h.setTransform(1,0,0,1,b,c+d),a.O.h(a.O));a.top&&(h.setTransform(1,0,-0.5,0.5,b+0.4+d,c),a.top.h(a.top));a.right&&(h.setTransform(0.5,-0.5,0,1,b+a.f,c+d),a.right.h(a.right))}function fb(a,b,c,d){BH=
BH||0.3*BW;a={x:a,y:Y,z:b,f:c,e:d,d:p,k:c+p/2,j:d+p/2,t:Ab,h:$a};G(a);0<c&&0<d&&(a.O={M:Bb,N:Cb,T:Db,p:c,q:d,L:BW,J:BH,I:BC,K:B,h:DR[0]||DR});0<p&&0<d&&(a.right={M:Eb,N:Fb,T:Gb,p:p,q:d,L:BW,J:BH,I:BC,K:B>>4,h:DR[1]||DR});0<c&&0<p&&(a.top={M:Hb,N:Ib,T:Jb,p:c,q:p,L:BW,J:BH,I:BC,K:B>>8,h:DR[2]||DR});return a}function qa(a){a.id=Kb++;C.push(a)}function Ca(a,b,c,d){var f={z:-1E10};u(Ia,function(g){g.z>f.z&&c+d>g.z&&a+d>g.x&&a<g.x+g.f&&b+d>g.y&&b<g.y+g.d&&(f=g)});return f}function gb(a,b,c,d,f,g){ha(a,
{a:(d-b)/160*g/10,g:(f-c)/160*g/10,$:x(c,f),ba:v(c,f),Z:x(b,d),aa:v(b,d),update:function(a,b){a.x+=a.a*b;if(a.x>a.Z||a.x<a.aa)a.x=x(v(a.x,a.Z),a.aa),a.a*=-1;a.z+=a.g*b;if(a.z>a.$||a.z<a.ba)a.z=x(v(a.z,a.$),a.ba),a.g*=-1;u(a.F||[a],function(a){var b=a.U;b.u&&(b.u.z=a.z,b.u.x=a.x,b.H.z=a.z,b.H.x=a.x+a.f);b.v&&(b.v.x=a.x,b.v.z=a.z+a.e,b.G.x=a.x,b.G.z=a.z)});G(a)}})}function Aa(a,b,c,d,f){return Lb(f,function(f){if(a+d>f.x&&a<f.x+f.f&&b+d>f.y&&b<f.y+f.d&&c+d>f.z&&c<f.z+f.e)return f})}function sa(a,b,
c,d){var f=fb(a,b,c,d);qa(f);f.U=hb(a,b,c,d,f);return f}function hb(a,b,c,d,f){if(Y+p<IPY||Y>IPY)return{};var g={};16<p&&16<d&&(g.u={y:Y,z:b,d:p,e:d,f:0,x:a},na.push(g.u),g.H={y:Y,z:b,d:p,e:d,f:0,x:a+c},oa.push(g.H));if(16<p&&16<c){g.v={x:a,y:Y,f:c,d:p,e:0,z:b+d,s:f};if(!f)debugger;Ia.push(g.v);g.G={x:a,y:Y,f:c,d:p,e:0,z:b};Ba.push(g.G)}return g}function G(a){a.b=a.x+a.y/2;a.c=q-a.y/2-a.e-a.z}function Ja(a){var b=h.createPattern(U(3*p,3*p,function(b){b.drawImage(a,0,0,3*p,3*p)}),"repeat");b.h=function(a,
b,f,g){h.fillStyle=this;h.fillRect(a,b,f,g)};return b}function Ka(a,b,c,d,f,g,e,h,p){b=a.createImageData(b,c);c=b.data;for(var l=0;l<c.length;l+=4){var n=c,q=l,yb=d+ta()*f,s=g+ta()*e,m=h+ta()*p;n[q]=yb;n[q+1]=s;n[q+2]=m;n[q+3]=255}a.putImageData(b,0,0)}function Mb(){u(La,function(a){for(var b=0;b<C.length;b++)if(C[b].id==a){C.splice(b,1);break}});La=[]}function Nb(a){h.drawImage(Ma[(ea+a.ha)%Ma.length],a.b-W/2,a.c-W/2)}function Ob(a){a.b>=e.b-4&&a.b<e.b+F+4&&a.c>=e.c-4&&a.c<e.c+F+4&&(3E3<ea-pa&&(I=
0),P[I++].play(),I%=P.length,pa=ea,La.push(a.id))}function R(a){Na.w.oa(a);var b=Na.qa();a=new Uint8Array(4*((b+1)/2|0)+44);var b=2*Na.pa(new Uint16Array(a.buffer,44),b),c=new Uint32Array(a.buffer,0,44);c[0]=1179011410;c[1]=b+36;c[2]=1163280727;c[3]=544501094;c[4]=16;c[5]=65537;c[6]=44100;c[7]=88200;c[8]=1048578;c[9]=1635017060;c[10]=b;for(var b=b+44,c=0,d="data:audio/wav;base64,";c<b;c+=3)var f=a[c]<<16|a[c+1]<<8|a[c+2],d=d+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f>>18]+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f&63]);c-=b;a=new Audio;a.src=d.slice(0,d.length-c)+"==".slice(0,c);return a}function K(a){DEBUG||alert("Forgot a log");console.log(a)}function ib(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=a[d];ha(c,b);return c}function ha(a,b){for(k in b)a[k]=b[k]}function J(a,b,c,d){return"rgba("+
a+","+b+","+c+","+(d||1)+")"}function U(a,b,c){var d=M.createElement("canvas");d.width=a;d.height=b;c(d.getContext("2d"),d);d.h=function(a,b,c,d){h.drawImage(this,a,b,c,d)};return d}function Lb(a,b){return Pb(a.length,function(c){return b(a[c],c)})}function Pb(a,b){var c;c=c||1;for(var d=0;d<a;d+=c){var f=b(d);if(f)return f}}function Oa(a,b){var c;c=c||1;for(var d=0;d<a;d+=c)b(d)}function u(a,b){for(var c=0;c<a.length;c++)b(a[c],c)}function Qb(){this.oa=function(a){for(var b=0;24>b;b++)this[String.fromCharCode(97+
b)]=a[b]||0;0.01>this.o&&(this.o=0.01);a=this.A+this.o+this.B;0.18>a&&(a=0.18/a,this.A*=a,this.o*=a,this.B*=a)}}function jb(a){null==Pa&&(ua=Pa=a);ea=(ua-Pa)/16|0;var b=v(3,(a-ua)/16);ua=a;va=0.9*va+0.1*T;O=kb(va);wa=0.9*wa+0.1*ja;OffsetY=kb(wa);h.setTransform(1,0,0,1,0-O,0-OffsetY);h.clearRect(O,OffsetY,l,q);a=eb(C,O-l/2,OffsetY-q/2,2*l,2*q);e.update(e,b);u(a,function(a){a.update&&a.update(a,b)});lb=eb(a,O,OffsetY,l,q);var c=[],d=[];u(lb,function(a){zb(a)?c.push(a):d.push(a)});u(c,function(a){a.h(a)});
e.h();u(d,function(a){a.ma?ra(1):a.b-10<e.b+e.k&&a.b+10+a.k>e.b&&a.y+a.d<e.y&&a.c-10<e.c+e.j&&a.c+10+a.j>e.c?ra(0.3):ra(1);a.h(a)});ra(1);Mb();xa(jb)}DEBUG=!0;onerror=function(a,b,c){alert(a,b,c)};var M=document,A=[];u(["b","c","d"],function(a){A.push(M.getElementById(a))});var l=A[0].width,q=A[0].height,mb=A[1].getContext("2d"),h=mb,E=A[0].getContext("2d"),n=A[2].getContext("2d"),ta=Math.random,V=Math.abs,v=Math.min,x=Math.max,kb=Math.round,w=2*Math.PI,C=[],s=0;E.fillStyle="#222";E.fillRect(0,0,
l,q);var u=function(a,b){for(var c=0;c<a.length;c++)b(a[c],c)},xa=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame;if(!xa)var nb=0,xa=function(a){var b=Date.now(),c=Math.max(0,16-(b-nb));window.setTimeout(function(){a(b+c)},c);nb=b+c};var va,wa,O=OffsetY=0,ob=J(15,15,15,0.3);BW=27;BH=0;B=4095;BC=ob;var Na=new function(){this.w=new Qb;var a,b,c,d,f,g,e,h,p,l,n,q;this.reset=function(){var a=this.w;d=100/(a.la*a.la+0.001);f=100/(a.V*a.V+0.001);g=1-0.01*
a.e*a.e*a.e;e=1E-6*-a.W*a.W*a.W;a.ka||(n=0.5-a.ua/2,q=5E-5*-a.va);h=0<a.C?1-0.9*a.C*a.C:1+10*a.C*a.C;p=0;l=1==a.Y?0:2E4*(1-a.Y)*(1-a.Y)+32};this.qa=function(){this.reset();var d=this.w;a=1E5*d.A*d.A;b=1E5*d.o*d.o;c=1E5*d.B*d.B+10;return a+b+c|0};this.pa=function(s,u){var m=this.w,v=1!=m.D||m.ja,y=0.1*m.ja*m.ja,x=1+3E-4*m.f,t=0.1*m.D*m.D*m.D,C=1+1E-4*m.ha,z=1!=m.D,F=m.x*m.x,G=m.V,A=m.Q||m.R,O=0.2*m.R*m.R*m.R,w=m.Q*m.Q*(0>m.Q?-1020:1020),I=m.fa?(2E4*(1-m.fa)*(1-m.fa)|0)+32:0,Q=m.d,N=m.sa/2,U=0.01*m.na*
m.na,J=m.ka,L=a,$=1/a,da=1/b,ea=1/c,m=5/(1+20*m.ra*m.ra)*(0.01+t);0.8<m&&(m=0.8);for(var m=1-m,P=!1,W=0,E=0,K=0,R=0,ka=0,M,la=0,D,fa=0,ia,aa=0,r,ha=0,ga,ba=0,T=Array(1024),ma=Array(32),S=T.length;S--;)T[S]=0;for(S=ma.length;S--;)ma[S]=2*Math.random()-1;for(S=0;S<u;S++){if(P)return S;I&&++ha>=I&&(ha=0,this.reset());l&&++p>=l&&(l=0,d*=h);g+=e;d*=g;d>f&&(d=f,0<G&&(P=!0));D=d;0<N&&(ba+=U,D*=1+Math.sin(ba)*N);D|=0;8>D&&(D=8);J||(n+=q,0>n?n=0:0.5<n&&(n=0.5));if(++E>L)switch(E=0,++W){case 1:L=b;break;case 2:L=
c}switch(W){case 0:K=E*$;break;case 1:K=1+2*(1-E*da)*Q;break;case 2:K=1-E*ea;break;case 3:K=0,P=!0}A&&(w+=O,ia=w|0,0>ia?ia=-ia:1023<ia&&(ia=1023));v&&x&&(y*=x,1E-5>y?y=1E-5:0.1<y&&(y=0.1));ga=0;for(var ja=8;ja--;){fa++;if(fa>=D&&(fa%=D,3==J))for(M=ma.length;M--;)ma[M]=2*Math.random()-1;switch(J){case 0:r=fa/D<n?0.5:-0.5;break;case 1:r=1-2*(fa/D);break;case 2:r=fa/D;r=6.28318531*(0.5<r?r-1:r);r=0>r?1.27323954*r+0.405284735*r*r:1.27323954*r-0.405284735*r*r;r+=0.225*(r*V(r)-r);break;case 3:r=ma[Math.abs(32*
fa/D|0)]}v&&(M=la,t*=C,0>t?t=0:0.1<t&&(t=0.1),z?(ka+=(r-la)*t,ka*=m):(la=r,ka=0),la+=ka,R+=la-M,r=R*=1-y);A&&(T[aa%1024]=r,r+=T[(aa-ia+1024)%1024],aa++);ga+=r}ga=0.125*ga*K*F;s[S]=1<=ga?32767:-1>=ga?-32768:32767*ga|0}return u}},pb=[0,,0.14,0.445,0.4616,0.6,,,,,,0.587,0.5406,,,,,,1,,,,,0.45],P=[];Oa(5,function(a){P.push(R(ib(pb,{5:0.6+0.05*a})))});Oa(4,function(a){P.push(R(ib(pb,{5:0.8-0.05*a})))});var I=0,pa=0,La=[],W=80,Ma=[];Oa(128,function(a){var b=V(Math.sin(w*a/128));0.1<b&&Ma.push(U(W,W,function(c){c.strokeStyle=
"#aa6";c.shadowBlur=30;c.lineWidth=2;c.shadowColor="#ff2";c.beginPath();c.setTransform(b,0,0,1,W/2,W/2);c.fillStyle="#fe4";c.arc(0,0,10,0,w);c.fill();c.fillStyle="#aa6";63<a?c.fillText("1",-3,3.5):c.fillText("\u265b",-5,3.5);c.stroke()}))});var p=20,Rb=U(p,p,function(a){Ka(a,p,p,80,20,180,40,80,40)}),Sb=U(p,p,function(a){Ka(a,p,p,120,20,110,20,40,30)}),Tb=U(p,p,function(a){Ka(a,p,p,140,25,120,25,50,40)}),Jb=Ja(Rb),Db=Ja(Sb),Gb=Ja(Tb),T=0,ja=0,na=[],oa=[],Ia=[],Ba=[],Ha={},L=[],Kb=0,Hb="#e86",Ib="#eda",
Bb="#d74",Cb="#dc8",Eb="#b52",Fb="#ba6",db=1,Za,Ea=!1,Da=h.createRadialGradient(15,-9,3,15,-9,32);Da.addColorStop(0,"#FFD6CE");Da.addColorStop(1,"#B34C80");var t=22,Q=2*t,z=Q/4,da={};M.addEventListener("keydown",Xa);M.addEventListener("keyup",Xa);M.body.addEventListener("touchmove",function(a){a.preventDefault()},!1);n.fillStyle=J(140,150,240,0.5);n.shadowColor=J(170,180,250,0.5);n.shadowBlur=30;n.lineWidth=7;n.strokeStyle=J(80,90,140,0.5);var $=A[2];$.addEventListener("touchstart",function(a){var b=
null,c=null;u(a.changedTouches,function(a){var f=a.clientX-$.offsetLeft,g=a.clientY-$.offsetTop;f<l/2-20?b=[a.identifier,f,g]:f>l/2+20&&(c=[a.identifier,f,g])});null!=b&&Wa(b);null!=c&&Va(c);a.preventDefault()});$.addEventListener("touchmove",function(a){var b=null,c=null;u(a.changedTouches,function(a){var f=a.clientX-$.offsetLeft,g=a.clientY-$.offsetTop;f<l/2-20?b=[a.identifier,f,g]:f>l/2+20&&(c=[a.identifier,f,g])});null!=b&&Wa(b);null!=c&&Va(c);a.preventDefault()});$.addEventListener("touchend",
function(a){u(a.changedTouches,function(a){null!=s.move&&a.identifier==s.move[0]&&(s.move=null,e.left=0,e.right=0,e.m=0,e.l=0,n.beginPath(),n.clearRect(0,0,l/2,q),n.arc(s.x,s.y,30,0,w),n.fill());null!=s.button&&a.identifier==s.button[0]&&(s.button=null,e.P=0,n.clearRect(l/2,0,l/2,q))})});var ya=h.createRadialGradient(12,-7,3,12,-7,28);ya.addColorStop(0,"#8ED6FF");ya.addColorStop(1,"#004CB3");var F=40,N=F/4,tb=R([0,,0.1453,,0.225,0.3726,,0.12,0.22,,,,,0.1547,,,,,1,,,,,0.35]),ub=R([0,,0.1,,0.22,0.3726,
,0.14,0.2,,,,0.12,0.1547,,,,,1,,,,,0.26]),Ua=R([0,,0.11,0.16,0.09,0.227,0.04,-0.18,0.34,,,,,0.23,0.12,,,,1,0.2,0.16,0.1,,0.32]),sb=J(15,15,15,0.5),Ra,za=!1,e={};Qa();(function(a){C=[];na=[];oa=[];Ia=[];Ba=[];IPX=O=OffsetY=0;IPY=50;IPZ=0;BW=27;BC=ob;B=4095;Y=0;p=100;for(var b=0;b<a.length;){var c=a[b++];switch(c){case 0:IPX=a[b++];IPZ=a[b++];aa();break;case 1:var d=a[b++],c=a[b++],f=IPY,g;g=0+100*ta();d={x:d,z:c,y:f,e:10,f:10,d:0,j:10,k:10,ha:g<<0,update:Ob,h:Nb,ma:!0};G(d);qa(d);break;case 2:Ya(a[b++],
a[b++]);break;case 3:case 4:DR=3==c?Ga:Fa;sa(a[b++],a[b++],a[b++],a[b++]);break;case 10:var e=sa(a[b++],a[b++],a[b++],a[b++]);e.S=!0;e.t=bb;break;case 5:Y=a[b++];p=a[b++];break;case 11:var h=a[b++],l=a[b++],n=a[b++],q=a[b++],s=a[b++];case 6:f=a;a=a[b++];g=b;var t=[],u=C;C=t;var m,w;if(11==c){w=m=1E7;for(var y=e=-1E7,b=0;b<a.length;){b++;var d=a[b++],z=a[b++];m=v(m,d);w=v(w,z);e=x(e,d+a[b++]);y=x(y,z+a[b++])}m=e-m;w=y-w}for(b=0;b<a.length;){var e=a[b++],d=a[b++],y=a[b++],z=a[b++],A=a[b++];11==c&&(d=
m+d,y=w+y);switch(e){case 3:case 4:DR=3==e?Ga:Fa;sa(d,y,z,A);break;case 10:e=sa(d,y,z,A);e.S=!0;e.t=bb;break;default:K("Error loading level at index "+g+"  subindex "+b+" type: "+e)}}a=f;b=g;C=u;d=xb(t);11==c&&(l-=d.e,q-=d.e,gb(d,h,l,n,q,s));break;case 7:case 8:DR=7==c?Ga:Fa;h=a[b++];l=a[b++];n=a[b++];q=a[b++];c=a[b++];f=a[b++];s=a[b++];d=h-c/2;y=l-f/2;g=fb(d,y,c,f);qa(g);e=g;e.U=hb(d,y,c,f,e);gb(e,h,l,n,q,s);break;case 9:Ya(a[b++],a[b++],a[b++]);break;default:K("Error loading level at index "+b+
"  type: "+c)}}})([5,90,10,3,691,154,20,125,3,724,75,20,58,3,1872,165,20,84,3,1308,47,123,82,3,488,-175,116,98,3,708,-175,20,210,3,1496,-171,48,188,3,1218,-173,92,182,5,0,100,4,838,74,141,71,4,472,40,614,34,3,579,306,174,16,0,541,147,3,609,142,141,12,1,981,172,2,939,184,3,783,212,141,28,4,1162,11,462,34,1,1190,91,1,1242,74,1,1228,108,1,1274,67,1,1211,74,1,1264,94,1,1524,234,1,1576,232,1,1628,231,1,1576,204,1,1552,232,1,1603,231,1,1577,180,1,1578,156,1,1580,132,1,1569,108,1,1544,103,1,1526,123,4,1671,
11,259,42,1,1705,219,1,1756,243,1,1386,349,1,1708,192,1,1728,239,1,1778,226,1,1730,168,1,1752,151,1,1771,123,1,1753,102,1,1722,98,1,1696,117,4,1822,52,141,110,3,1796,261,111,28,3,1577,314,168,28,3,1936,163,53,65,1,1623,432,1,1624,407,1,1625,383,1,1625,360,1,1670,457,1,1727,451,1,1699,456,1,1689,410,1,1710,424,1,1716,359,1,1731,383,1,1716,398,1,1690,354,1,1665,367,1,1623,457,1,1318,94,1,1373,70,1,1356,90,1,1402,71,1,1339,76,1,1392,97,3,1607,133,87,20,1,600,361,1,652,344,1,707,364,3,1194,138,111,28,
6,[3,1306,133,124,131,3,1431,46,46,209],7,1077,190,1170,343,150,19,10,3,156,-206,1628,32,9,1374,-106,40,9,1024,-110,25,9,680,-100,5,10,834,242,42,38,10,1630,-174,158,52,11,217,-133,419,127,10,[3,139,-161,150,19,10,143,-142,42,38,4,184,-142,93,40],2,1413,299,10,1472,47,42,60,5,0,10,3,644,68,50,70,3,874,139,27,70,3,1839,159,20,97,3,1300,40,142,96,3,413,-180,142,96,3,797,-178,142,96,3,1143,-178,142,96]);window.onresize=function(){var a=A[0].parentElement,b=l,c=q;l=v(960,a.offsetWidth);q=v(760,a.offsetHeight);
var d=a.offsetLeft+(a.offsetWidth-l)/2+"px";u(A,function(a){a.style.top=0;a.style.left=d;if(b!=l||c!=q)a.width=l,a.height=q});E.fillStyle="#222";E.fillRect(0,0,l,q);if(b!=l||c!=q)u(C,function(a){a.ia?a.ia(a):G(a)}),Qa()};onresize();navigator.userAgent.match(/Android/i)&&(window.scrollTo(0,1),E.fillStyle="#222",E.fillRect(0,0,l,q));va=T=e.b-0.5*l;wa=ja=e.c-0.8*q;var h=mb,Pa=null,ea,ua,lb=[];xa(jb)})();
